const o=new Map;let m=0;const a=["\x1B[32m$\x1B[0m whoami","demo-user","\x1B[32m$\x1B[0m ls -la","total 48","drwxr-xr-x  12 demo-user  staff   384 Feb 22 10:30 .","drwxr-xr-x   5 demo-user  staff   160 Feb 22 09:00 ..","-rw-r--r--   1 demo-user  staff   220 Feb 22 10:30 .env","drwxr-xr-x   8 demo-user  staff   256 Feb 22 10:28 .git","-rw-r--r--   1 demo-user  staff  1024 Feb 22 10:30 package.json","-rw-r--r--   1 demo-user  staff   512 Feb 22 10:30 tsconfig.json","drwxr-xr-x   6 demo-user  staff   192 Feb 22 10:28 src","drwxr-xr-x   3 demo-user  staff    96 Feb 22 10:28 public","\x1B[32m$\x1B[0m cat package.json | head -5","{",'  "name": "my-app",','  "version": "1.0.0",','  "scripts": {','    "dev": "vite"',"\x1B[32m$\x1B[0m "];function d(s,n){const t=o.get(s);if(t)for(const i of t)i(n)}function f(s){let n=0,t=0;const i=20,c=300;function e(){if(n>=a.length)return;const r=a[n];t<r.length?(d("terminal.incomingData",{id:s,data:r[t]}),t++,setTimeout(e,i)):(d("terminal.incomingData",{id:s,data:`\r
`}),n++,t=0,setTimeout(e,c))}setTimeout(e,500)}async function g(s,n){switch(s){case"terminal.create":{const t=`demo-${++m}`;return setTimeout(()=>f(t),200),t}case"terminal.sessionExists":return!0;case"terminal.checkCommand":return!0;case"terminal.exec":return{stdout:"",stderr:"",exitCode:0};case"terminal.getCwd":return"/home/demo-user/my-app";case"terminal.getCompletions":return["ls","cd","cat","npm","git"];case"terminal.getHistory":return a.join(`
`);case"terminal.readHistory":return a.slice(-10).join(`
`);case"terminal.clearHistory":return;case"terminal.getSystemInfo":return{platform:"linux",arch:"x64",shell:"bash",release:"5.15.0"};case"terminal.execInTerminal":return{stdout:"(demo mode)",exitCode:0};case"terminal.scanCommands":return["ls","cd","cat","npm","git","node","python"];case"ai.testConnection":return{success:!1,error:"AI connections not available in demo mode"};case"ssh.connect":return{sessionId:`demo-ssh-${++m}`};case"ssh.testConnection":return{success:!1,error:"SSH connections not available in demo mode"};case"ssh.disconnect":return!0;case"ssh.profiles.read":return[{id:"demo-1",name:"Production Server",host:"prod.example.com",port:22,username:"deploy"},{id:"demo-2",name:"Dev Server",host:"dev.example.com",port:22,username:"dev"}];case"ssh.profiles.write":return!0;case"file.writeFile":return{success:!1,error:"File operations not available in demo mode"};case"file.readFile":return{success:!1,error:"File operations not available in demo mode"};case"file.editFile":return{success:!1,error:"File operations not available in demo mode"};case"file.listDir":return{success:!0,contents:[{name:"src",isDirectory:!0},{name:"public",isDirectory:!0},{name:"package.json",isDirectory:!1},{name:"tsconfig.json",isDirectory:!1}]};case"file.searchDir":return{success:!0,results:[]};case"log.saveSessionLog":return{success:!1,error:"Logging not available in demo mode"};case"sessions.read":return null;case"sessions.write":return!0;case"config.read":return null;case"config.write":return!0;case"config.getSystemPaths":return{home:"/home/demo-user",temp:"/tmp"};case"system.selectFolder":return null;case"shell.openExternal":return;case"shell.openPath":return"";case"shell.showItemInFolder":return;case"system.flushStorage":return;default:return null}}function p(){const s=(e,r)=>g(e),n=(e,r)=>{},t=(e,r)=>(o.has(e)||o.set(e,new Set),o.get(e).add(r),()=>{o.get(e)?.delete(r)}),i=(e,r)=>{const l=(...u)=>{o.get(e)?.delete(l),r(...u)};t(e,l)},c=(e,r)=>{o.get(e)?.delete(r)};window.electron={ipcRenderer:{invoke:s,send:n,on:t,once:i,removeListener:c,checkCommand:()=>Promise.resolve(!0),getCwd:()=>Promise.resolve("/home/demo-user/my-app"),getCompletions:()=>Promise.resolve(["ls","cd","cat"]),getHistory:e=>s("terminal.getHistory"),scanCommands:()=>s("terminal.scanCommands"),exec:(e,r)=>s("terminal.exec"),testAIConnection:e=>s("ai.testConnection"),getSystemInfo:e=>s("terminal.getSystemInfo"),execInTerminal:(e,r)=>s("terminal.execInTerminal"),readConfig:()=>s("config.read"),writeConfig:e=>s("config.write"),readSessions:()=>s("sessions.read"),writeSessions:e=>s("sessions.write"),getSystemPaths:()=>s("config.getSystemPaths"),selectFolder:()=>Promise.resolve(null),openExternal:e=>{window.open(e,"_blank")},openPath:()=>Promise.resolve(""),showItemInFolder:()=>Promise.resolve(),flushStorage:()=>Promise.resolve(),listDir:e=>s("file.listDir"),searchDir:(e,r)=>s("file.searchDir"),saveSessionLog:e=>s("log.saveSessionLog"),connectSSH:e=>s("ssh.connect"),testSSHConnection:e=>s("ssh.testConnection"),disconnectSSH:e=>s("ssh.disconnect"),readSSHProfiles:()=>s("ssh.profiles.read"),writeSSHProfiles:e=>s("ssh.profiles.write")}}}export{p as installDemoBridge};
